<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.dacs4_v2.viewModels.GameController"
            prefWidth="1024" prefHeight="700" style="-fx-background-color: #1a1a2e;">
    
    <!-- HEADER -->
    <top>
        <VBox style="-fx-background-color: #16213e; -fx-padding: 12;">
            <HBox alignment="CENTER" spacing="20">
                <Label fx:id="lblGameName" text="Game - Room Name" 
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label fx:id="lblKomi" text="Komi: 6.5" 
                       style="-fx-font-size: 14; -fx-text-fill: #94a3b8;"/>
                <Label fx:id="lblTurnIndicator" text="LÆ°á»£t: ÄEN" 
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #fbbf24; -fx-background-color: #374151; -fx-padding: 6 12; -fx-background-radius: 999;"/>
            </HBox>
        </VBox>
    </top>
    
    <!-- MAIN CONTENT -->
    <center>
        <HBox spacing="0" alignment="CENTER">
            <!-- LEFT PLAYER PANEL (BLACK) -->
            <VBox fx:id="panelBlack" prefWidth="200" spacing="12" alignment="TOP_CENTER"
                  style="-fx-background-color: #0f3460; -fx-padding: 20;">
                
                <!-- Avatar -->
                <StackPane prefWidth="80" prefHeight="80">
                    <Label fx:id="lblBlackAvatar" text="â—" 
                           style="-fx-font-size: 48; -fx-text-fill: #1a1a2e; -fx-background-color: linear-gradient(to bottom, #4ade80, #22c55e); -fx-background-radius: 999; -fx-padding: 10 18;"/>
                </StackPane>
                
                <!-- Player Name -->
                <Label fx:id="lblBlackName" text="Player 1" 
                       style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;"/>
                
                <!-- Rank -->
                <Label fx:id="lblBlackRank" text="Rank: -" 
                       style="-fx-font-size: 12; -fx-text-fill: #94a3b8;"/>
                
                <!-- Stone Color Indicator -->
                <HBox alignment="CENTER" spacing="6">
                    <Label text="â—" style="-fx-font-size: 24; -fx-text-fill: #1a1a2e;"/>
                    <Label text="QuÃ¢n Äen" style="-fx-font-size: 12; -fx-text-fill: #94a3b8;"/>
                </HBox>
                
                <Separator style="-fx-background-color: #374151;"/>
                
                <!-- Timer -->
                <VBox alignment="CENTER" spacing="4">
                    <Label text="â± Thá»i gian" style="-fx-font-size: 11; -fx-text-fill: #64748b;"/>
                    <Label fx:id="lblBlackTime" text="10:00" 
                           style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #4ade80;"/>
                </VBox>
                
                <Separator style="-fx-background-color: #374151;"/>
                
                <!-- Captured Stones -->
                <VBox alignment="CENTER" spacing="4">
                    <Label text="QuÃ¢n bá»‹ báº¯t" style="-fx-font-size: 11; -fx-text-fill: #64748b;"/>
                    <HBox alignment="CENTER" spacing="6">
                        <Label text="â—‹" style="-fx-font-size: 20; -fx-text-fill: white;"/>
                        <Label fx:id="lblBlackCaptured" text="0" 
                               style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: white;"/>
                    </HBox>
                </VBox>
                
                <!-- Turn Indicator -->
                <Label fx:id="lblBlackTurn" text="â–¶ ÄANG ÄI" 
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #fbbf24; -fx-background-color: #374151; -fx-padding: 8 16; -fx-background-radius: 8;"
                       visible="true"/>
                
                <Pane VBox.vgrow="ALWAYS"/>
            </VBox>
            
            <!-- CENTER - GO BOARD -->
            <VBox alignment="CENTER" HBox.hgrow="ALWAYS" style="-fx-background-color: #1a1a2e; -fx-padding: 20;">
                <StackPane fx:id="boardContainer" style="-fx-background-color: #c4a26a; -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 20, 0.3, 0, 5);">
                    <Canvas fx:id="boardCanvas" width="500" height="500"/>
                </StackPane>
            </VBox>
            
            <!-- RIGHT PLAYER PANEL (WHITE) -->
            <VBox fx:id="panelWhite" prefWidth="200" spacing="12" alignment="TOP_CENTER"
                  style="-fx-background-color: #0f3460; -fx-padding: 20;">
                
                <!-- Avatar -->
                <StackPane prefWidth="80" prefHeight="80">
                    <Label fx:id="lblWhiteAvatar" text="â—‹" 
                           style="-fx-font-size: 48; -fx-text-fill: white; -fx-background-color: linear-gradient(to bottom, #f472b6, #ec4899); -fx-background-radius: 999; -fx-padding: 10 18;"/>
                </StackPane>
                
                <!-- Player Name -->
                <Label fx:id="lblWhiteName" text="Player 2" 
                       style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;"/>
                
                <!-- Rank -->
                <Label fx:id="lblWhiteRank" text="Rank: -" 
                       style="-fx-font-size: 12; -fx-text-fill: #94a3b8;"/>
                
                <!-- Stone Color Indicator -->
                <HBox alignment="CENTER" spacing="6">
                    <Label text="â—‹" style="-fx-font-size: 24; -fx-text-fill: white;"/>
                    <Label text="QuÃ¢n Tráº¯ng" style="-fx-font-size: 12; -fx-text-fill: #94a3b8;"/>
                </HBox>
                
                <Separator style="-fx-background-color: #374151;"/>
                
                <!-- Timer -->
                <VBox alignment="CENTER" spacing="4">
                    <Label text="â± Thá»i gian" style="-fx-font-size: 11; -fx-text-fill: #64748b;"/>
                    <Label fx:id="lblWhiteTime" text="10:00" 
                           style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #f472b6;"/>
                </VBox>
                
                <Separator style="-fx-background-color: #374151;"/>
                
                <!-- Captured Stones -->
                <VBox alignment="CENTER" spacing="4">
                    <Label text="QuÃ¢n bá»‹ báº¯t" style="-fx-font-size: 11; -fx-text-fill: #64748b;"/>
                    <HBox alignment="CENTER" spacing="6">
                        <Label text="â—" style="-fx-font-size: 20; -fx-text-fill: #1a1a2e;"/>
                        <Label fx:id="lblWhiteCaptured" text="0" 
                               style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: white;"/>
                    </HBox>
                </VBox>
                
                <!-- Turn Indicator -->
                <Label fx:id="lblWhiteTurn" text="â–¶ ÄANG ÄI" 
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #fbbf24; -fx-background-color: #374151; -fx-padding: 8 16; -fx-background-radius: 8;"
                       visible="false"/>
                
                <Pane VBox.vgrow="ALWAYS"/>
            </VBox>
        </HBox>
    </center>
    
    <!-- BOTTOM - CONTROL BUTTONS -->
    <bottom>
        <HBox alignment="CENTER" spacing="20" style="-fx-background-color: #16213e; -fx-padding: 16;">
            <Button fx:id="btnPass" text="â­ Pass" onAction="#onPass"
                    style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-font-size: 14; -fx-font-weight: bold; -fx-padding: 12 24; -fx-background-radius: 8; -fx-cursor: hand;"/>
            <Button fx:id="btnSurrender" text="ðŸ³ Äáº§u hÃ ng" onAction="#onSurrender"
                    style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-size: 14; -fx-font-weight: bold; -fx-padding: 12 24; -fx-background-radius: 8; -fx-cursor: hand;"/>
            <Button fx:id="btnExit" text="ðŸšª ThoÃ¡t game" onAction="#onExit"
                    style="-fx-background-color: #6b7280; -fx-text-fill: white; -fx-font-size: 14; -fx-font-weight: bold; -fx-padding: 12 24; -fx-background-radius: 8; -fx-cursor: hand;"/>
        </HBox>
    </bottom>
</BorderPane>
